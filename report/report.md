# Отчет о выполнении домашнего задания

## Содержание
- [Класс Bits](Bits.cpp) - основной класс с реализацией всех алгоритмов
- [Тесты TestCounts и TestBitboard](test.cpp) - модульное тестирование 
- [Консольный вывод тестирования](output.txt) - результаты всех тестов

## Реализация заданий

### **Уровень 1**
**0. Решить задачу про короля**  
Выполнено, функция: `Bits::king(uint64_t initial_pos)`  

**1. Решить задачу про коня**  
Выполнено, функция: `Bits::knight(uint64_t initial_pos)`  

**2. Реализовать два алгоритма подсчёта единичных битов в числе**  
Выполнено, функции: 
- `Bits::count_bits_naiv(uint64_t number)` - наивная реализация через цикл
- `Bits::count_bits_sub_one(uint64_t number)` - алгоритм через вычитание единицы

### **Уровень 2**
**0100. Решить задачу про ладью**  
Выполнено, функция: `Bits::rook(uint64_t initial_pos)`  

**0101. Реализовать подсчёт единичных битов через кэширование**  
Выполнено, функция: `Bits::count_bits_cashed(uint64_t number)`  
Использует предрассчитанный массив для подсчета битов в каждом байте.
Дополнительно `Bits::count_bits_opt_cashed(uint64_t number)` - оптимизированная кэшированная версия (развернутый цикл)

### **Уровень 3**
**1001. Решить задачу про слона**  
Выполнео, функция: `Bits::bishop(uint64_t initial_pos)`  

**1010. Решить задачу про ферзя**  
Выполнено, функция: `Bits::queen(uint64_t initial_pos)`  

## Тестирование
### **TestCounts** - тестирование функций подсчета битов:
- Проверка корректности на 10,000,000 случайных чисел
- Тестирование пограничных случаев
- Замер производительности всех реализаций

### **TestBitboard** - тестирование шахматных фигур:- 
- Сравнение с эталонными тестами из файлов - все тесты пройдены

## Результаты производительности (на 10,000,000 чисел)

| Алгоритм | Время (микросекунды) | Относительная скорость |
|----------|---------------------|-----------------------|
| Наивная реализация | 2,554,507 us | 1.00x (база) |
| Через вычитание единицы | 1,795,491 us | **1.42x быстрее** |
| Кэшированная (с циклом) | 1,267,524 us | **2.02x быстрее** |
| Кэшированная (оптимизированная) | **1,123,920 us** | **2.27x быстрее** |

## Выводы

✅ **Кэшированная версия показала лучшую производительность** (в 2.27 раза быстрее наивной реализации)  
✅ **Развертывание циклов дает дополнительный выигрыш** (~12% ускорение)  